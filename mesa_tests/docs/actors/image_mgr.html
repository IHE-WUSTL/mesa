<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
<style type="text/css">
<!--
.style1 {font-size: 24px}
.style2 {
	font-size: 36px;
	font-weight: bold;
}
.style3 {
	color: #FF0000;
	font-style: italic;
}
-->
</style>
</head>

<body>
<p align="center"><span class="style1"><strong>HIMSS and RSNA</strong></a> <br />
<strong>Integrating the Healthcare </strong></a><strong>Enterprise</strong><strong> </strong></span></p>
<p align="center"><strong>&nbsp;</strong></p>
<p align="center"><strong>&nbsp;</strong><span class="style2">IHE/MESA Image  Manager/Archive Tests</a> </span></p>
<p>&nbsp;</p>
<p align="center">Electronic Radiology  Laboratory<br />
  Mallinckrodt Institute of  Radiology<br />
  510 South    Kingshighway Blvd. <br />
  St. Louis, MO&nbsp; 63110 <br />
  314.362.6965 (Voice)<br />
  314.362.6971 (Fax)</p>
<p align="center">&nbsp;</p>
<p align="center">Revision 10.13.0</a> <br />
  5-March-2007</p>
<br clear="all" />
<p><strong>Contents:</strong></p>
<p><a href="#img_mgr_arc_tests">Image  Manager/Archive Tests</a> <br />
    <a href="#intro"> Introduction</a> <br />
    <a href="#msg_att">Message Attributes</a> <br />
    <a href="#msg_values"> Message Values</a> <br />
    <a href="#config">Configuration</a> <br />
    <a href="#start_servers">Starting the MESA Servers</a> <br />
    <a href="#unique_id">Unique Identifiers</a> <br />
<a href="#test_instrt">Test Instructions</a> </p>
<p><br />
  <a href="#img_mgr_tests"> Image  Manager 1xx Tests</a> </p>
<ol>
  <li><a href="#test_103">Image Manager Test 103: PIR Case 1:  Unidentified Patient Registered at ADT and Ordered at the Order Placer</a> <br />
  </li>
  <li><a href="#test_105">Image Manager Test 105: PIR Case #3:  Unidentified Patient Registered at ADT but Completed at Modality Prior to Order</a> <br />
  </li>
  <li><a href="#test_106">Image Manager Test 106: Green</a> <br />
  </li>
  <li><a href="#test_109">Image Manager Test 109: Exception  Management</a> <br />
  </li>
  <li><a href="#test_110">Image Manager Test 110: Billing and  Material Option</a> <br />
  </li>
  <li><a href="#test_111">Image Manager Test 111: Performed  Work Status Update</a> <br />
  </li>
  <li><a href="#test_131">Image Manager Test 131:  Administrative and Procedure Performance Process Flow</a> <br />
  </li>
  <li><a href="#test_132">Image Manager Test 132: Order Change  Flow Initiated by Order Filler</a> <br />
  </li>
  <li><a href="#test_133">Image Manager Test 133: PIR Case 2:  Unidentified Patient Registered at ADT and Ordered at Department System  Scheduler/Order Filler</a> <br />
  </li>
  <li><a href="#test_134">Image Manager Test 134: Instance  Availability Notification</a> <br />
  </li>
</ol>
<p><a href="#other_tests">Other  Tests</a> </p>
<ol>
  <li><a href="#test_401">Image Manager Test 401: Modalities  in Study</a> <br />
  </li>
  <li><a href="#test_402">Image Manager Test 402: Related  Series/SOP Instances</a> <br />
  </li>
  <li><a href="#test_403">Image Manager Test 403: Other Image  Manager Attribute</a> <br />
  </li>
  <li><a href="#test_404">Image Manager Test 404: Image  Specific Queries</a> <br />
  </li>
  <li><a href="#test_405">Image Manager Test 405: Storage  Commitment</a> <br />
  </li>
  <li><a href="#test_411">Image Manager Test 411: Presentation  State Query</a> <br />
  </li>
  <li><a href="#test_412">Image Manager Test 412: Presentation  State Retrieve</a> <br />
  </li>
  <li><a href="#test_413">Image Manager Test 413: Key Object  Note Query</a> <br />
  </li>
  <li><a href="#test_414">Image Manager Test 414: Key Object  Note Retrieve</a> <br />
  </li>
</ol>
<p><a href="#charge_proc_tests">Charge  Processing Tests</a> </p>
<ol>
  <li><a href="#test_1301">Image Manager Test 1301: Charge  Processor Test 1</a> <br />
  </li>
  <li><a href="#test_1302">Image Manager Test 1302: Charge  Processor Test 2</a> <br />
  </li>
  <li><a href="#test_1303">Image Manager Test 1303: Charge  Processor Test 3</a> <br />
  </li>
</ol>
<p><a href="#post_proc_tests">Post  Processing Tests</a> </p>
<ol>
  <li><a href="#test_1402">Image Manager Test 1402: Store  Evidence Documents</a> <br />
  </li>
  <li><a href="#test_1403">Image Manager Test 1403: Query  Evidence Documents</a> <br />
  </li>
  <li><a href="#test_1404">Image Manager Test 1404: Retrieve  Evidence Documents</a> <br />
  </li>
  <li><a href="#test_1412">Image Manager Test 1412: PWF CT</a> <br />
  </li>
  <li><a href="#test_1421">Image Manager Test 1421: PWF Double  Claim</a> <br />
  </li>
  <li><a href="#test_1422">Image Manager Test 1422: PWF Release  Claim</a> <br />
  </li>
</ol>
<p><a href="#basic_sec_tests">Basic  Security Tests</a> (now obsolete) </p>
<ol>
  <li><a href="#test_1502">Image Manager Test 1502:  Pre-reg/Order Cancel/Reorder</a> <br />
  </li>
  <li><a href="#test_1503">Image Manager Test 1503:  Unidentified Patient Case #1</a> <br />
  </li>
  <li><a href="#test_1531">Image Manager Test 1531: Basic  Security, Administrative and Procedure Performance Process Flow</a> <br />
  </li>
</ol>
<p><a href="#evd_doc_tests">Evidence  Document Tests</a> </p>
<ol>
  <li><a href="#test_1701">Image Manager Test 1701: Evidence  Document Management in Scheduled Workflow</a> <br />
  </li>
</ol>
<p><a href="#nuc_med_prof_tests">Nuclear  Medicine Profile Tests</a> </p>
<ol>
  <li><a href="#test_2601">Image Manager Test 2601: NM Storage  SOP Classes</a> <br />
  </li>
  <li><a href="#test_2602">Image Manager Test 2602: NM Query  Keys</a> <br />
  </li>
</ol>
<p><a href="#test_for_card">Tests  for Cardiology</a> </p>
<ol>
  <li><a href="#test_20106">Image Manger Test 20106: C5: Patient  NOT Registered (no Order)</a> <br />
  </li>
  <li><a href="#test_20602">Test Case 20602:&nbsp; ED: Describe Image Manager/Image Archive  Methods</a> </li>
  <li><a href="#test_20725">Image Manger Test 20725: STRESS Storage SOP Classes</a> <br />
  </li>
</ol>
<p><a href="#img_fusion_prof_tests">Image  Fusion (FUS) Profile Tests</a> </p>
<ol>
  <li><a href="#test_3512">Image Manager Test 3512: Spatial  Registration Storage and Storage Commitment</a> <br />
  </li>
  <li><a href="#test_3540">Image Manager Test 3540: BSPS Storage  and Storage Commitment</a><br />
  </li>
  <li><a href="#test_3556">Image Manager Test 3556: BSPS and  Spatial Registration Retrieve</a> </li>
</ol>

<p><a href="#eyecare_tests">Eye Care Profile Tests</a> </p>
<ol>
  <li><a href="#test_50000">50000: Eye Care Workflow: Test 1</a></li>
  <li><a href="#test_50002">50002: Eye Care Workflow: Patient Renamed</a></li>
  <li><a href="#test_50004">50004: Eye Care Workflow: Modality Performs Different Procedure</a></li>
</ol>

<p><a href="#mammo_prof_tests">Mammography Image Integration Profile Tests</a> </p>
<ol>
  <li><a href="#test_3920">Image Manager Test 3920: MAMMO Storage  SOP Classes</a> </li>
</ol>
<h1><a name="#img_mgr_arc_tests" id="#img_mgr_arc_tests">Image Manager/Archive Tests</a></h1>
<h2><a name="#intro" id="#intro">Introduction</a></h2>
<p>Read the document <em>IHE  Tests: Transaction Sequences</em>.&nbsp; This  document lists all the transactions in a series of use cases which drive tests  for individual actors.&nbsp; Image  Manager/Archives (heareafter referred to as Image Managers) will participate in  a subset of the transactions.&nbsp; Reading  that document will allow you to understand the full set of transactions for  each test.&nbsp; These are the 1xx series  tests.<br />
  There are other tests that do not depend on message flow  as defined in <em>IHE Tests: Transaction  Sequences</em>.&nbsp; These other tests (the  4xx series tests) are used to evaluate more static features of the Image  Manager, such as responses for specific keys as defined in the IHE Technical  Framework.<br />
  Each test is run using the same procedure.&nbsp; We assume you are using an interactive  terminal or terminal emulator and are logged on to the MESA test system.&nbsp; Change directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr </em>or<em> <em>$MESA_TARGET/mesa_tests/card/actors/imgmgr </em></em>.&nbsp; Make sure the $MESA_TARGET and $MESA_STORAGE  environment variables are set properly.</p>
<h3>Integration Profiles and Test Procedures</h3>
<p>This document lists a number of tests for Image Archive/Image  Manager Systems. You may not be responsible for all of these tests.<br />
  Please refer to the Connectathon web tool to list the  required tests for your system. The web address of this tool depends on the  year and project manager. Please contact the appropriate project manager to  obtain this information.</p>
<h2><a name="#msg_att" id="#msg_att">Message Attributes</a></h2>
<p>Image Managers are required to forward MPPS messages to  the MESA Order Filler, accept images for storage, respond to Storage Commitment  reqeusts, respond to DICOM C-Find commands and respond to DICOM C-Move  requests.&nbsp; The tables below list the  attributes evaluated by the MESA  software for various tests.</p>
<p>Attributes Evaluated for MPPS Messages Forwarded by Image  Manager</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="306" valign="top"><br />
        <strong>Attribute Name</strong> </td>
    <td width="156" valign="top"><p align="center"><strong>Tag</strong></p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p><strong>Performed Procedure Step Relationship</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Scheduled Step Attribute    Sequence</p></td>
    <td width="156" valign="top"><blockquote>
      <p>0040 0270</p>
    </blockquote></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Study Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0020    000D</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Referenced Study    Sequence</p></td>
    <td width="156" valign="top"><p align="center">0008    1110</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt; Referenced SOP    Class UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1150</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1155</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Accession Number</p></td>
    <td width="156" valign="top"><p align="center">0008    0050</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Requested Procedure ID</p></td>
    <td width="156" valign="top"><p align="center">0040    1001</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Requested Procedure    Description</p></td>
    <td width="156" valign="top"><p align="center">0032    1060</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Scheduled Procedure    Step ID</p></td>
    <td width="156" valign="top"><p align="center">0040    0009</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Scheduled Procedure    Step Description</p></td>
    <td width="156" valign="top"><p align="center">0040    0007</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt; Scheduled Action Item    Code Sequence</p></td>
    <td width="156" valign="top"><p align="center">0040    0008</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Code Value</p></td>
    <td width="156" valign="top"><p align="center">0008    0100</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Coding Scheme    Designator</p></td>
    <td width="156" valign="top"><p align="center">0008    0102</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Code Meaning</p></td>
    <td width="156" valign="top"><p align="center">0008    0104</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient&rsquo;s Name</p></td>
    <td width="156" valign="top"><p align="center">0010    0010</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient ID</p></td>
    <td width="156" valign="top"><p align="center">0010    0020</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient&rsquo;s Birth Date</p></td>
    <td width="156" valign="top"><p align="center">0010    0030</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient&rsquo;s Sex</p></td>
    <td width="156" valign="top"><p align="center">0010    0040</p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p><strong>Performed    Procedure Step Information</strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step ID</p></td>
    <td width="156" valign="top"><p align="center">0040    0253</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Station AE Title</p></td>
    <td width="156" valign="top"><p align="center">0040    0241</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Station Name</p></td>
    <td width="156" valign="top"><p align="center">0040    0242</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Location</p></td>
    <td width="156" valign="top"><p align="center">0040    0243</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    Start Date</p></td>
    <td width="156" valign="top"><p align="center">0040    0244</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    Status</p></td>
    <td width="156" valign="top"><p align="center">0040    0252</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Porcedure Step    Description</p></td>
    <td width="156" valign="top"><p align="center">0040    0254</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Type    Description</p></td>
    <td width="156" valign="top"><p align="center">0040    0255</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Procedure Code Sequence</p></td>
    <td width="156" valign="top"><p align="center">0008    1032</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Code Value</p></td>
    <td width="156" valign="top"><p align="center">0008    0100</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Coding Scheme    Designator</p></td>
    <td width="156" valign="top"><p align="center">0008    0102</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Code Meaning</p></td>
    <td width="156" valign="top"><p align="center">0008    0104</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    End Date</p></td>
    <td width="156" valign="top"><p align="center">0040    0250</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    End Time</p></td>
    <td width="156" valign="top"><p align="center">0040 0251</p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p><strong>Image Acquisition Results</strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Modality</p></td>
    <td width="156" valign="top"><p align="center">0008    0060</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Id</p></td>
    <td width="156" valign="top"><p align="center">0020    0010</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Action Item Code    Sequence</p></td>
    <td width="156" valign="top"><p align="center">0040    0260</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Code Value</p></td>
    <td width="156" valign="top"><p align="center">0008    0100</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Coding Scheme    Designator</p></td>
    <td width="156" valign="top"><p align="center">0008    0102</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Code Meaning</p></td>
    <td width="156" valign="top"><p align="center">0008    0104</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Series Sequence</p></td>
    <td width="156" valign="top"><p align="center">0040    0340</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Performing Physician&rsquo;s    Name</p></td>
    <td width="156" valign="top"><p align="center">0008    1050</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Protocol Name</p></td>
    <td width="156" valign="top"><p align="center">0018    1030</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Operator&rsquo;s Name</p></td>
    <td width="156" valign="top"><p align="center">0008    1070</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Series Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0020    000E</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Series Description</p></td>
    <td width="156" valign="top"><p align="center">0008    103E</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Retrieve AE Title</p></td>
    <td width="156" valign="top"><p align="center">0008    0054</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Referenced Image    Sequence</p></td>
    <td width="156" valign="top"><p align="center">0008    1140</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Class UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1150</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1155</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Referenced Standalone    SOP Instance Sequence</p></td>
    <td width="156" valign="top"><p align="center">0040    0220</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Class UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1150</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1150</p></td>
  </tr>
</table>
<h3>Attributes Evaluated in C-Find Responses</h3>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="306" valign="top"><br />
        <strong>Attribute Name</strong> </td>
    <td width="156" valign="top"><p align="center"><strong>Tag</strong></p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p><strong>Study Level</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Date</p></td>
    <td width="156" valign="top"><blockquote>
      <p>0008 0020</p>
    </blockquote></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Time</p></td>
    <td width="156" valign="top"><p align="center">0008    0030</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Accession Number</p></td>
    <td width="156" valign="top"><p align="center">0008    0050</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient Name</p></td>
    <td width="156" valign="top"><p align="center">0010    0010</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient ID</p></td>
    <td width="156" valign="top"><p align="center">0010    0020</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study ID</p></td>
    <td width="156" valign="top"><p align="center">0020    0010</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0020    000D</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Modalities in Study</p></td>
    <td width="156" valign="top"><p align="center">0008    0061</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Referring Physician&rsquo;s Name</p></td>
    <td width="156" valign="top"><p align="center">0008    0090</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient&rsquo;s Birth Date</p></td>
    <td width="156" valign="top"><p align="center">0010    0030</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Patient&rsquo;s Sex</p></td>
    <td width="156" valign="top"><p align="center">0010    0040</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Number of Study Related    Series</p></td>
    <td width="156" valign="top"><p align="center">0020    1206</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Number of Study Related Instances</p></td>
    <td width="156" valign="top"><p align="center">0020    1208</p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p align="center"><strong>Series    Level</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Modality</p></td>
    <td width="156" valign="top"><p align="center">0008    0060</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Series Number</p></td>
    <td width="156" valign="top"><p align="center">0020    0011</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Series Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0020    000E</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Number of Series Related    Instances</p></td>
    <td width="156" valign="top"><p align="center">0020    1209</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Request Attribute Sequence</p></td>
    <td width="156" valign="top"><p align="center">0040    0275</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Requested Procedure ID</p></td>
    <td width="156" valign="top"><p align="center">0040    1001</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Scheduled Procedure    Step ID</p></td>
    <td width="156" valign="top"><p align="center">0040    0009</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    Start Date</p></td>
    <td width="156" valign="top"><p align="center">0040    0244</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Performed Procedure Step    Start Time</p></td>
    <td width="156" valign="top"><p align="center">0040    0245</p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p align="center"><strong>Composite    Object Instance Level</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Image Number</p></td>
    <td width="156" valign="top"><p align="center">0020    0013</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>SOP Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0008    0018</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>SOP Class UID</p></td>
    <td width="156" valign="top"><p align="center">0008    0016</p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p align="center"><strong>Image    Specific Attributes</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Rows</p></td>
    <td width="156" valign="top"><p align="center">0028    0010</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Columns</p></td>
    <td width="156" valign="top"><p align="center">0028    0011</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Bits Allocated</p></td>
    <td width="156" valign="top"><p align="center">0028    0100</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Number of Frames</p></td>
    <td width="156" valign="top"><p align="center">0028    0008</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation State Specific Attributes</p></td>
    <td width="156" valign="top"><p align="center">&nbsp;</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation Label</p></td>
    <td width="156" valign="top"><p align="center">0070    0080</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation Description</p></td>
    <td width="156" valign="top"><p align="center">0070    0081</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation Creation Date</p></td>
    <td width="156" valign="top"><p align="center">0070    0082</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation Creation Time</p></td>
    <td width="156" valign="top"><p align="center">0070    0083</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Presentation Creator&rsquo;s Name</p></td>
    <td width="156" valign="top"><p align="center">0070    0084</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Referenced Series Sequence</p></td>
    <td width="156" valign="top"><p align="center">0008    1115</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Series Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0020    000E</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;Referenced Image    Sequence</p></td>
    <td width="156" valign="top"><p align="center">0008    1140</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Class UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1150</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>&gt;&gt;Referenced SOP    Instance UID</p></td>
    <td width="156" valign="top"><p align="center">0008    1155</p></td>
  </tr>
</table>
<h3>Attributes Evaluated in SOP Instances Retrieved via C-Move</h3>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="306" valign="top"><br />
        <strong>Attribute Name</strong> </td>
    <td width="156" valign="top"><p align="center"><strong>Tag</strong></p></td>
  </tr>
  <tr>
    <td width="462" colspan="2" valign="top"><p><strong>Study Level</strong><strong> </strong></p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Date</p></td>
    <td width="156" valign="top"><p>0008 0020</p></td>
  </tr>
  <tr>
    <td width="306" valign="top"><p>Study Time</p></td>
    <td width="156" valign="top"><p align="center">0008    0030</p></td>
  </tr>
</table>
<h2><a name="#msg_values" id="#msg_values">Message Values</a></h2>
<p>These tests expect the Image Manager to reproduce values  that were sent to the Image Manager via DICOM or HL7 messages.&nbsp; There is no documentation which lists all  expected values; there would be too many values to document.&nbsp; The evaluation software will print the  expected values and the values supplied by the Image Manager in the event of  mismatches (or always if you use the verbose mode).</p>
<h2><a name="#config" id="#config">Configuration</a></h2>
<p>The Image Manager scripts described below use an ASCII  configuration file to identify parameters such as host names and port  numbers.&nbsp; The configuration file is named <em>imgmgr_test.cfg</em> and is included in  the directory <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.&nbsp; Edit the file and change entries (host name,  port number) that pertain to your system.&nbsp;  Your system is identified by entries that begin with TEST.<br />
  For IHE Basic Security tests, all messages are exchanged  using TLS. MESA  servers are run on the same ports but with the TLS option. The configuration  file that identifies your information is <em>imgmgr_secure.cfg</em>.  This separate file allows you to use different port numbers for your secure and  standard configurations. You may decide to use the same port numbers for both  types of communication. The MESA  software will only use all secure or all standard communication for a test; we  do not mix communication protocols.<br />
  The table below gives parameters for MESA servers that will receive messages from  your system.&nbsp; Other MESA servers are started and exchange  messages, but do not receive messages from the Image Manager.</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="337" valign="top"><br />
        <strong>Application</strong> </td>
    <td width="180" valign="top"><p align="center"><strong>AE Title</strong></p></td>
    <td width="121" valign="top"><p align="center"><strong>Port Number</strong></p></td>
  </tr>
  <tr>
    <td width="337" valign="top"><p>MESA    MPPS Manager and MWL Server</p></td>
    <td width="180" valign="top"><p>MESA_FILLER</p></td>
    <td width="121" valign="top"><p>2250</p></td>
  </tr>
  <tr>
    <td width="337" valign="top"><p>MESA    Modality (for Storage Commitment)</p></td>
    <td width="180" valign="top"><p>MESA_MOD</p></td>
    <td width="121" valign="top"><p>2400</p></td>
  </tr>
  <tr>
    <td width="337" valign="top"><p>MESA Workstation (to receive SOP instances as the result    of C-Move requests)</p></td>
    <td width="180" valign="top"><p>MESA_WKSTATION</p></td>
    <td width="121" valign="top"><p>3001</p></td>
  </tr>
  <tr>
    <td width="337" valign="top"><p>MESA    Audit Record Repository</p></td>
    <td width="180" valign="top"><p>&lt;none&gt;</p></td>
    <td width="121" valign="top"><p>4000</p></td>
  </tr>
</table>
<p>Read the <em>Runtime Notes</em> section of the<em> Installation Guide</em> to  determine the proper settings for the MESA  runtime environment.</p>
<h2><a name="#start_servers" id="#start_servers">Starting the </a>MESA Servers</h2>
<p>These instructions assume you are using a terminal  emulator on Unix systems or an MS DOS command window under Windows NT.&nbsp; Each test uses a command line interface;  there is no graphical user interface. Before you start the test procedure, you  need to start several MESA  servers.&nbsp; Make sure the appropriate  database is running (PostgreSQL, SQL Server).&nbsp;  To start the MESA  servers:</p>
<ol start="1" type="1">
  <li>Enter       the Image Manager exam directory: <em>$MESA_TARGET/mesa_tests/<strong>rad</strong>/actors/imgmgr</em> or <em>$MESA_TARGET/</em><em>mesa_tests/<strong>card</strong>/actors/imgmgr</em></li>
  <li>Execute       the perl script to start the servers:</li>
</ol>
  <pre>     perl  scripts/start_mesa_servers.pl [loglevel]</pre>
  <p>  <em>loglevel</em> is an  optional argument (0 is default).&nbsp; Log  levels are:</p>
<ol start="0">
  <li>no logging</li>
  <li>errors</li>
  <li>warnings</li>
  <li>verbose</li>
  <li>conversational (really verbose)</li>
</ol>
<p>When you are finished running one or more tests, you can  stop the servers:
<pre>     perl scripts/stop_mesa_servers.pl</pre>
  Log files are stored in<em> $MESA_TARGET/logs.</em><br />
  For the security tests, the MESA servers are started with different  scripts. These are <em>scripts/start_mesa_secure.csh</em> and <em>scripts\start_mesa_secure.bat</em>.  The log levels are the same as for the standard tests. The syntax for starting  the servers in secure mode is:<br />
</p>
<blockquote>
  <pre>     scripts/start_mesa_secure.csh &lt;log level&gt; Unix</pre>
  <pre>     set  LOGLEVEL=X (1, 2, 3, 4)&nbsp; (Windows)
     scripts\start_mesa_secure.bat</pre>
  <p>The MESA  servers are stopped using these scripts: <em>scripts/stop_mesa_secure.csh</em> and <em>scripts\stop_mesa_secure.bat.</em></p>
<p>NB: The method for starting the MESA servers in &ldquo;standard&rdquo; mode changes with  the 6.6.0 release. This better allows the MESA  servers to listen for connections on ports other than our assumed defaults.  This helps with some Solaris installations where there is conflict with the  ports we chose as default values.</p>
<h2><a name="#unique_id" id="#unique_id">Unique Identifiers</a></h2>
<h2><a name="#test_instrt" id="#test_instrt">Test Instructions</a></h2>
<p><strong><em>Please note the test instructions change  starting with the 6.7.0 release</em></strong>.<br />
  Each test is independent of the others.&nbsp; You must collect the results of one test  before starting a new test.</p>
<ol>
  <li>Enter  the Image Manager exam directory: <em>$MESA_TARGET/</em><em>mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Remember  the MESA  servers were started according to the directions in <a href="#start_servers">Starting the MESA Servers</a>.</li>
</ol>
<p>Workflow tests (1xx series) use a test engine that manages  the test process. This test engine is used for all 1xx series tests and is  driven by a text file that describes the events for a specific test. Each test  below will indicate which script is appropriate (usually the swf script for  Scheduled Workflow). The arguments to the script are the test number and the  log level for output:</p>
<ol>
  <li>errors only</li>
  <li>warnings</li>
  <li>verbose</li>
  <li>reference  information (pointers into IHE Technical Framework)</li>
</ol>
<p>An example of the syntax used to invoke the script for the  131 test is:
<pre>     perl  scripts/imgmgr_swf.pl 131 1</pre>
  The test script will announce what events are about to  happen and will request that you send specific events according to the sequence  defined in <em>IHE Tests: Transaction  Sequences</em>.&nbsp; When you have completed  the sequence of events, results can be evaluated by running the evaluation  script:
  <pre>     perl  &lt;test&gt;/eval_&lt;test&gt;.pl &lt;log level&gt; &lt;MPPS Mgr AE Title&gt;</pre>
  For example: <pre>     perl 131/eval_131.pl 3 AE_TITLE_FILLER</pre>
  The log level for evaluation is defined as:</p>
<ol>
  <li>errors only</li>
  <li>warnings</li>
  <li>context information (verbose)</li>
  <li>reference information (pointer into IHE Technical  Framework)</li>
</ol>
<p>Starting with version 6.7.0 of the MESA software, the user can change the  patient name and patient ID of the test subject prior to running the test. This  allows one to rerun a test without clearning the database of the prior subject.  This is done from the directory <em>$MESA_TARGET/mesa_tests/rads/msgs</em>.<br />
  A perl script is used to query the user for a new patient  name and other demographics; the script automatically generates the new patient  identifier. The perl script can also use an existing text file to specify the  new demographics. The software is shipped with text files that are designed for  IHE United States. It would be a simple task to make different text files for  other countries. As listed in each sectio below, invoke the perl script with no  arguments for interactive questions. If you specify an argument, it is the name  of a text file with the demographic values.</p>
<h1><a name="#img_mgr_tests" id="#img_mgr_tests">Image Manager 1xx Tests</a></h1>
<p>Each section below lists one Image Manager test.&nbsp; As mentioned above, the individual  transactions involving the Image Manager under test are described in other  documents.<br />
  In some cases, the MESA  software will send a message to your Image Manager and will have no way to  evaluate the response of your system.&nbsp;  These messages must be accepted by your system, but are not listed in  the sections below as being evaluated by the MESA software.</p>
<br clear="all" />
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_103" id="#test_103">Image Manager Test 103: PIR Case 1: Unidentified  Patient Registered at ADT and Ordered at the Order Placer</a></h2>
<p>Test Case 103 involves transactions for the patient Jay  Silverheels and tests the Unidentified Case 1: Unidentified Patient Registered  at ADT and Ordered at the Order Placer.</p>
<h3>References</h3>
<p>RAD TF-1:4.4.</p>
<h3>Instructions</h3>
<p>The nominal patient name is SILVERHEELS^JAY.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:</li>
      <pre>perl  scripts/imgmgr_swf.pl 103 &lt;log&gt;</pre>
  <li>Run  the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script  </li>
</ol>
    <pre>     perl  103/eval_103.pl &lt;log&gt; &lt;MPPS AE Title&gt; &lt;SC AE Title&gt;</pre>
    <ol start="2">
  <li>The  evaluation output is found in 103/grade_103.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information  </h3>
<p>Image Managers are expected to send Storage Commitment N-Event reports to the MESA modality using a different Association than that initiated by the MESA modality (for the N-Action). Please refer to the configuration tables above for the DICOM configuration for the MESA modality. 
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/103.pl ihe-us/103.var (or)</pre>
  <pre>     perl  mesa_reset/103.pl</pre></td></tr></table>
<h2><a name="#test_105" id="#test_105">Image Manager Test 105: PIR Case #3:  Unidentified Patient Registered at ADT but Completed at Modality Prior to Order</a></h2>
<p>Test Case 105 involves transactions for the patient  Stephen Mustard and tests the Unidentified Case 3: Unidentified Patient  Registered at ADT but Completed at Modality Prior to Order.<br />
Note that the Study Instance UID is generated by the  Modality.</p>
<h3>References</h3>
<p>RAD TF-1:4.4.3</p>
<h3>Instructions</h3>
<p>The nominal patient name is MUSTARD^STEPHEN.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows: </li>
</ol>
    <pre>     perl scripts/imgmgr_swf.pl 105 &lt;log&gt; </pre>
    <ol start="4">
  <li>Run  the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script  </li>
</ol>
    <pre>     perl  105/eval_105.pl &lt;log&gt; &lt;MPPS AE Title&gt; &lt;SC AE Title&gt; </pre>
    <ol start="2">
  <li>The  evaluation output is found in 105/grade_105.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/105.pl ihe-us/105.var (or)</pre>
  <pre>     perl  mesa_reset/105.pl</pre>
  <table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_106" id="#test_106">Image Manager Test 106: Green</a></h2>
<p>This test is different from the other 1xx series  tests.&nbsp; This is a test of the  Presentation of Grouped Procedures Integration Profile.&nbsp; Your system will accept HL7 scheduling messages  for two Requested Procedures, one series of images (IHE Group Case) and two  separate GSPS objects.&nbsp; After you have  received these messages, you perform these steps:</p>
<h3>References</h3>
<h3>Instructions</h3>
<ul>
  <ul>
    <ul>
      <ol>
        <li>Display the images for the separate procedures using  the appropriate GSPS objects.</li>
        <li>Perform a screen capture (electronic, camera) of your  display system that indicates you can display information to indicate that  these are grouped procedures but that you can split them according to the GSPS  objects.</li>
        <li>Send the screen capture (electronic, paper) to the  Technical Project Manager.</li>
      </ol>
    </ul>
  </ul>
</ul>
<p>Step 2 is intentionally vague.&nbsp; We do not want to evaluate the quality of  your user interface or display.&nbsp; We do  want to see if you support the splitting of these groups according to this  Integration Profile.&nbsp; It is difficult for  us to give guidelines for how to prove this.&nbsp;  &ldquo;We will know it when we see it.&rdquo;</p>
<p>To run this test, follow these steps:
  <pre>     perl  106/106_imgmgr.pl</pre>
  <p>After the message exchange is complete, perform  appropriate screen captures and send results to the Project Manager.</p>
     
  <h3><strong>Evaluation</strong></h3>
  <h3><strong>Supplemental Information <br clear="all" />
        </strong></h3></td></tr></table>
<h2><a name="#test_109" id="#test_109">Image Manager Test 109: Exception Management</a></h2>
<p>The Exception Management test uses a typical sequence of  messages for the Scheduled Workflow profile. The final MPPS N-Set message sets  the procedure step status to DISCONTINUED and includes the reason code:<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;110514, Incorrect worklist entry  selected<br />
  According to the IHE Technical Framework, RAD-TF-2:  4.7.4.1.3.1, the Image Manager shall</p>
<ul>
  <li>not return SOP Instances UIDs for the images in  query responses</li>
</ul>
<p>In this test, the Image Manager should receive and  recognize the reason code. The MESA  tools send a C-Find request at the IMAGE level for the discontinued procedure  step. The Image Manager under test should return 0 responses. It is considered  a failure if the Image Manager returns responses to this C-Find request.</p>
<h3>References</h3>
<h3>Instructions</h3>
<p>To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows: </li>
</ol>
    <pre>     perl scripts/imgmgr_swf.pl 109 &lt;log&gt; &lt;MPPS AE Title&gt; &lt;SC AE  Title&gt;</pre>
    <ol start="4">
  <li>Run  the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script  </li>
</ol>
    <pre>     perl 109/eval_109.pl &lt;log&gt;</pre>
    <ol start="2">
  <li>The  evaluation output is found in 105/grade_109.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/109.pl ihe-us/109.var (or)</pre>
  <pre>     perl  mesa_reset/109.pl</pre>
  <strong><br clear="all" />
</strong>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_110" id="#test_110">Image Manager Test 110: Billing and Material  Option</a></h2>
</td></tr></table>
<h2><a name="#test_111" id="#test_111">Image Manager Test 111: Performed Work Status  Update</a></h2>
<p>Test 111 covers the Performed Work Status Update under the  assumption that the Image Manager wants to receive this status from the Order  Filler. Read the list of transactions that are listed in <em>IHE Tests: Transaction Sequences</em>.</p>
<h3>References</h3>
<h3>Instructions</h3>
<p>To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run the test script as follows: </li>
</ol>
<ol start="4">
    <pre>perl  scripts/imgmgr_swf.pl 111 &lt;log&gt; </pre>
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<p>You will receive these status messages and do not need to  produce them. There is no formal evaluation. Submit a file to the Project  Manager indicating that you have received the messages properly.</p>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/111.pl ihe-us/111.var (or)</pre>
  <pre>     perl mesa_reset/111.pl</pre>
  <table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_131" id="#test_131">Image Manager Test 131: Administrative and  Procedure Performance Process Flow</a></h2>
<p>Test 131 covers Administrative and Procedure Performance  Process Flow in the Scheduled Workflow profile.</p>
<h3>References</h3>
<p>RAD TF-1:3.2.1</p>
<h3>Instructions</h3>
<p>The nominal patient name is BLACK^CHARLES.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run the test script as follows:</li>
      <pre>perl  scripts/imgmgr_swf.pl 131 &lt;log&gt;</pre>
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  </li>
</ol>
<ol start="2">
    <pre>perl 131/eval_131.pl &lt;log&gt; &lt;MPPS AE  Title&gt; &lt;SC AE Title&gt; </pre>
  <li>The evaluation output is found in 131/grade_131.txt. The final result should indicate 0 errors.  Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
  <pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/131.pl ihe-us/131.var (or)</pre>
  <pre>     perl  mesa_reset/131.pl</pre></td>
  </tr></table>
<h2><a name="#test_132" id="#test_132">Image Manager Test 132: Order Change Flow  Initiated by Order Filler</a></h2>
<p>Test 132 covers order change flow initiated by the Order  Filler in the Scheduled Workflow profile.</p>
<h3>References</h3>
<p> RAD TF-1:3.2.4). </p>
<h3>Instructions</h3>
<p>The nominal patient name is WISTERIA^MATTHEW.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run the test script as follows: </li>
</ol>
<ol start="4">
    <pre>perl scripts/imgmgr_swf.pl 132&lt;log&gt;</pre>
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
 <p>There is no evaluation script for Image Manager Test 132.
    If you are preparing for a Connectathon, make
    sure your system can complete the transactions in this text.
    Then, submit a text file that indicates
    you have completed Image Manager Test 132.
    This is a one line statement. Nothing more elaborate is required.
 </p>

<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/132.pl ihe-us/132.var (or)</pre>
  <pre>     perl  mesa_reset/132.pl</pre>
  <table>
    <tr><td bgcolor="#33FFFF">
<h2><a name="#test_133" id="#test_133">Image Manager Test 133: PIR Case 2: Unidentified  Patient Registered at ADT and Ordered at Department System Scheduler/Order  Filler</a></h2>
<p>Test Case 133 involves transactions for the patient Ivan  Indigo and tests the Unidentified Case 2: Unidentified Patient Registered at  ADT and Ordered at the DSS/Order Filler.</p>
<h3>References</h3>
<p>RAD TF-1:4.4.2</p>
<h3>Instructions</h3>
<p>The nominal patient name is INDGO^IVAN.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows: </li>
</ol>
<ol start="4">
    <pre>perl  scripts/imgmgr_swf.pl 133 &lt;log&gt; </pre>
  <li>Run  the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script
  </li>
</ol>
<ol start="2">
    <pre>perl  133/eval_133.pl &lt;log&gt; &lt;MPPS AE Title&gt; &lt;SC AE Title&gt;</pre>
  <li>The  evaluation output is found in 133/grade_133.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
  <pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/133.pl ihe-us/133.var (or)</pre>
  <pre>     perl  mesa_reset/133.pl</pre>
</td></tr></table>
<h2><a name="#test_134" id="#test_134">Image Manager Test 134: Instance Availability  Notification</a></h2>
<p>Test 134 covers Image Manager/Image Archive notifies  interested workflow actors about the availability status of instances at  specified storage locations.</p>
<h3>References</h3>
<h3>Instructions</h3>
<p>The nominal patient name is BLACK^CHARLES.<br />
  To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run the test script as follows:</li>
      <pre>perl  scripts/imgmgr_swf.pl 134 &lt;log&gt; </pre>
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script</li>
      <pre>perl 134/eval_134.pl &lt;log&gt; &lt;IM/IA AE  Title&gt; </pre>
  <li>The evaluation output is found in 134/grade_134.txt. The final result should indicate 0 errors.  Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>To change patient name, patient ID prior to the test:
<pre>     cd  $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl  mesa_reset/134.pl ihe-us/134.var (or)</pre>
  <pre>     perl  mesa_reset/134.pl</pre>
<h1><a name="#other_tests" id="#other_tests">Other Tests</a></h1>
<p>The tests described in this section test other features of  Image Managers that are important for System Integration but are not covered in  the Workflow Tests in the previous section.&nbsp; Each  test will have separate and specific instructions.</p>
<p>All tests use a set of queries that must be constructed in a  one-time step.&nbsp; Run the script <em>scripts/construct_queries.pl</em> (perl  scripts/construct_queries.pl).&nbsp;  This will construct C-Find queries to be used in later steps.</p>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_401" id="#test_401">Image Manager Test 401: Modalities in Study</a></h2>
<p>The DICOM attribute 0008 0061 is named &ldquo;Modalities in  Study&rdquo;.&nbsp; Image Managers are required to  support this as both a query and return key at the Study Level.&nbsp; In this test, we will send studies with one  modality and two modalities to your Image Manager and then query the Image  Manager for results.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start the MESA  servers as instructed in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Clear your Image Manager of all images.</li>
  <li>Run the script <em>scripts/clearMESA.pl</em><pre>(perl  scripts/clearMESA.pl)</pre> to clear the MESA  image manager of all images.</li>
  <li>Run  the script <em>40x/load_img_mgr.pl</em> <pre>(perl 40x/load_img_mgr.pl)</pre>
   This will send 6 studies to your Image  Manager with the following values for Modality (MR, MR &amp; CT, CT, CR,  OT, OT).&nbsp; If your Image Manager does not  support GSPS objects, use the script <em>40x/load_img_mgr_images_only.pl</em>.</li>
  <li>Run the script <em>401/401_imgmgr.pl </em>: <pre>(perl  401/401_imgmgr.pl)</pre> 
  This runs 6  different queries against your Image Manager. Query A requests the 0008 0061  attribute for all studies in your Image Manager. You should see the 6 studies  mentioned above and the values mentioned above.&nbsp;  Your system might transpose the MR\CT value to CT\MR. Query B queries  for all studies with MR images.&nbsp; This  should generate two responses. Query C queries for all studies with CT  images.&nbsp; This should generate two  responses. Query D queries for all studies with CR images.&nbsp; This should generate one response. Query E  queries for all studies with US images.&nbsp;  This should generate no responses.</li>
  <li>Query F queries for modalities: MR\CT.&nbsp; This is an illegal query just for your own  testing.&nbsp; Clients should not send you  this query. The evaluation scripts do not test your response to this query, so  you are free to ignore this query. <strong><em>We may be incorrect in stating this is  an illegal query. It requires some research. The evaluation scripts do not  examine this response as of the 6.11.0 release.</em></strong></li>
  </ol>
<h3>Evaluation</h3>
<p>Run  the script <em>401/eval_401.pl</em>. This will  evaluate the performance of the above queries and will indicate pass/fail.</p>
<h3>Supplemental Information </h3></td>
</tr></table>
<h2><a name="#test_402" id="#test_402">Image Manager Test 402: Related Series/SOP  Instances</a></h2>
<p>These tests query Image Managers for DICOM attributes such as  Number of Study Related Series, Number of Study Related SOP Instances.&nbsp; This test uses the same sites as test 401 but  with different queries.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Clear your Image Manager of all images.</li>
  <li>Run the script <em>40x/load_img_mgr.pl</em>.&nbsp; This will send 6 studies to your Image  Manager.</li>
  <li>Run the script <em>402/402_imgmgr.pl. </em>&nbsp;This sends two queries to your Image  Manager.&nbsp; The first queries for Number of  Study Related Series and Number of Study Related Instances. The second queries  one study for Number of Series Related Instances.</li>
  <li>For extra credit, run the <em>40x/load_img_mgr.pl</em> script again.&nbsp;  This will send the images to you a second time.&nbsp; Run the query scripts again.&nbsp; The counts should remain the same.</li>
</ol>
<h3>Evaluation</h3>
<p>Run the script <em>402/eval_402.pl</em>.&nbsp; This will evaluate the performance of the 402  queries and indicate pass/fail.</p>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_403" id="#test_403">Image Manager Test 403: Other Image Manager  Attribute</a></h2>
<p>This test is not yet defined.</p></td></tr></table>
<h2><a name="#test_404" id="#test_404">Image Manager Test 404: Image Specific Queries</a></h2>
<p>The Image Specific Queries tests transmit DICOM C-Find  commands to Image Managers with return keys that are specific to Image SOP  Instances.&nbsp; The test reuses the images  loaded into your system for the other 40x tests. The table below lists the  attributes requested in the queries.</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="150" valign="top"><br />
      0008 0016 </td>
    <td width="348" valign="top"><p>SOP Class UID</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0028 0010</p></td>
    <td width="348" valign="top"><p>Rows</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0028 0011</p></td>
    <td width="348" valign="top"><p>Columns</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0028 0100</p></td>
    <td width="348" valign="top"><p>Bits allocated</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0028 0008</p></td>
    <td width="348" valign="top"><p>Number of Frames</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Clear  your Image Manager of all images.</li>
  <li>Run  the script <em>40x/load_img_mgr.pl</em>.&nbsp; This will send 6 studies to your Image  Manager.</li>
  <li>Run  the script <em>404/404_imgmgr.pl</em>. Two  queries are sent, one each for a series in two different studies.</li>
</ol>
<h3>Evaluation</h3>
<p>Run  the script <em>404/eval_404.pl</em>.&nbsp; This will evaluate the performance of the 404  queries and indicate pass/fail.</p>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_405" id="#test_405">Image Manager Test 405: Storage Commitment</a></h2>
<p>The Storage Commitment tests use different images from the  40x series tests.&nbsp; Images are sent to  your Image Manager and storage commitment requests are made.&nbsp; You are expected to send the Storage  Commitment N-Event reports to the MESA  modality at port 2400.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Run  the script <em>405/produce_images.pl</em>.&nbsp; This produces test images.</li>
  <li>Run  the script <em>scripts/clearMESA.pl</em>.&nbsp; This clears the MESA system of test data and responses from  your Image Manager.</li>
  <li>Start  the MESA  servers as instructed in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Clear  your image manager.</li>
  <li>Run  the script <em>405/405_imgmgr.pl</em>. This  will run the 405 test and indicate pass/fail. This script runs an application  that acts as an SCU of the Storage Commitment Push Model SOP Class and requests  associations with different association negotiation parameters.&nbsp; It makes one proper request that your  application should accept and one improper request that your application should  reject. The script will indicate pass/fail.&nbsp;  An optional &ndash;v argument will enable verbose mode:  </li>
</ol>
<ol start="6">
    <pre>perl  405/405_imgmgr.pl [-v]</pre>
  <li>Run the script <em>405/load_img_mgr.pl</em>.&nbsp; This will send test images for four studies  to your Image Manager.</li>
  <li>Run  the script <em>405/c405a.pl</em>.&nbsp; This sends storage commitment requests to  your Image Manager for two studies.</li>
  </ol>

  <p>If you need to repeat this test, stop the MESA servers then restart at step 2.</p>
  <h3>Evaluation</h3>
  <ol>
    <li>Run  the script <em>405/e405a.pl</em>.&nbsp; This evaluates the Storage Commitment N-Event  reports that you sent to the MESA  modality (on a separate association).&nbsp;  One required argument is the AE title of your Storage Commitment SCP  when it initiates DICOM associations to send the N-Event reports.&nbsp; An optional &ndash;v argument will enable verbose  mode:</li>
  </ol>
  <pre>     perl 405/e405a.pl &lt;AE Title&gt; [-v]</pre>
  <h3>Supplemental Information </h3>  </td>
</tr></table>
<h2><a name="#test_411" id="#test_411">Image Manager Test 411: </a>Presentation State Query</h2>
<p>Images and related Presentation State  objects are sent to the Image Manager under test.&nbsp; We query the Image Manager for attributes  specific to Presentation   State objects and test  other query/retrieve features.&nbsp; These  images are different from those used in the 40x series of tests.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Run  the script<em> 40x/load_img_mgr.pl</em>.&nbsp; This will send studies to your Image Manager  that include Presentation   State objects. (Yes, use  the <strong><em>40x/load_img_mgr.pl</em></strong> script).</li>
  <li>Run  the script <em>411/411_imgmgr.pl</em>.&nbsp; This will query for presentation state  specific attributes from the studies sent to your Image Manager.</li>
</ol>
<h3>Evaluation</h3>
<p>Run  the script<em> 411/eval_411.pl</em>.&nbsp; This will evaluate the responses and indicate  pass/fail.</p>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_412" id="#test_412">Image Manager Test 412: </a>Presentation State Retrieve</h2>
<p>The Image Manager is sent C-Move requests to retrieve  studies that contain Presentation   State objects.&nbsp; The Image Manager should correctly send both  images and Presentation   State objects to the  server.<br />
  In the 412 tests, the Image Manager will be sent C-Move  requests with a destination AE title of WORKSTATION1.&nbsp; The MESA  tools use these settings for that application:</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="176" valign="top"><br />
      AE Title </td>
    <td width="213" valign="top"><p>WORKSTATION1</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Port</p></td>
    <td width="213" valign="top"><p>3001</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Host</p></td>
    <td width="213" valign="top"><p>The MESA    test system</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start the MESA  servers as indicated in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Run the script <em>40x/load_img_mgr.pl</em>.&nbsp; This will send studies to your Image Manager  that include Presentation   State objects.</li>
  <li>Run the script <em>412/412_imgmgr.pl</em>.&nbsp; This will clear the MESA  workstation and send C-Move requests to move images and presentation state  objects to the MESA  workstation server.</li>
  </ol>
<h3>Evaluation</h3>
<p>Run the script <em>412/eval_412.pl</em>.&nbsp; This will evaluate the objects retrieved from  your Image Manager and indicate pass/fail.</p>
<h3>Supplemental Information </h3></td>
</tr></table>
<h2><a name="#test_413" id="#test_413">Image Manager Test 413: Key Object Note Query</a></h2>
<p>The Key Object Note Query test transmits one DICOM C-Find  command to Image Managers with return keys that are specific to Key Image Note  SOP Instances.&nbsp; The test uses the Key  Object Notes loaded into your system for the other 41x tests. The table below  lists the attributes requested in the queries.</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="150" valign="top"><p>0008 0023</p></td>
    <td width="348" valign="top"><p>Content Date</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0033</p></td>
    <td width="348" valign="top"><p>Content Time</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 A032</p></td>
    <td width="348" valign="top"><p>Observation DateTime</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 A043</p></td>
    <td width="348" valign="top"><p>Concept Name Code Sequence</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start  the MESA  servers as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Clear  your Image Manager of all images.</li>
  <li>Run  the script <em>41x/load_img_mgr.pl</em>.&nbsp; This will send studies to your Image Manager  containing Key Object Notes.</li>
  <li>Run  the script <em>413/413_imgmgr.pl</em>. One  query is sent for a Key Object Note.</li>
</ol>
<h3>Evaluation</h3>
<p>Run  the script <em>413/eval_413.pl</em>.&nbsp; This will evaluate the performance of the 413  query.</p>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_414" id="#test_414">Image Manager Test 414: Key Object Note Retrieve</a></h2>
<p>The Image Manager is sent C-Move requests to retrieve  studies that contain Key Object Notes.&nbsp; <br />
  In the 414 tests, the Image Manager will be sent C-Move  requests with a destination AE title of WORKSTATION1.&nbsp; The MESA  tools use these settings for that application:</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="176" valign="top"><br />
      AE Title </td>
    <td width="213" valign="top"><p>WORKSTATION1</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Port</p></td>
    <td width="213" valign="top"><p>3001</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Host</p></td>
    <td width="213" valign="top"><p>The MESA    test system</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start the MESA  servers as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run the script <em>41x/load_img_mgr.pl</em>.&nbsp; This will send studies to your Image Manager  containing Key Object Notes.
      <pre>perl 41x/load_img_mgr.pl</pre>
  <li>Run the script to send C-Move requests to your system:  </li>
</ol>
    <pre>     perl  414/414_imgmgr.pl
</pre>
    <h3>Evaluation</h3>
    <p>Run the script <em>414/evaluate_414.pl</em>.&nbsp; This will evaluate the Key Object Note  retrieved in the last step: </p>
    <pre>perl  414/eval_414.pl </pre>
    <h3>Supplemental Information</h3></td>
</tr></table>
<h1><a name="#charge_proc_tests" id="#charge_proc_tests">Charge Processing Tests</a></h1>
  <table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_1301" id="#test_1301">Image Manager Test 1301: Charge Processor Test 1</a></h2>
</td></tr></table>
<h2><a name="#test_1302" id="#test_1302">Image Manager Test 1302: Charge Processor Test 2</a></h2>
  <table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_1303" id="#test_1303">Image Manager Test 1303: Charge Processor Test 3</a></h2>
</td></tr></table>
<h1><a name="#post_proc_tests" id="#post_proc_tests">Post Processing Tests</a></h1>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_1402" id="#test_1402">Image Manager Test 1402: Store Evidence  Documents</a></h2>
<p>The Store Evidence Document test uses C-Store to transmit  Evidence Documents to Image Managers.&nbsp;  Subsequent 140x tests will use these Evidence Document SOP  Instances.&nbsp; </p>
<h3>References</h3>
<h3>Instructions</h3>
<ul>
<ol>
  <li>Start  the MESA  servers as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Clear  your Image Manager of all images.</li>
  <li>Run  the script <em>1402/load_img_mgr.pl</em>.&nbsp; This will send documents to your Image  Manager.</li>
  </ol>
</ul>
<h3>Evaluation</h3><ul><blockquote><p>There  is no evaluation script for this test.&nbsp;  Successful completion of this test is prerequisite for completion of the  remaining 140x tests.</p>
  </blockquote>
</ul>
<h3>Supplemental Information </h3></td>
</tr></table>
<h2><a name="#test_1403" id="#test_1403">Image Manager Test 1403: Query Evidence  Documents</a></h2>
<p>The Evidence Document Query test transmits one DICOM C-Find  command to Image Managers with return keys that are specific to Evidence  Document SOP Instances.&nbsp; The test uses  the Evidence Documents loaded into your system in the 1402 test. The table  below lists the attributes requested in the IMAGE level query.</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="150" valign="top"><p>0008 0023</p></td>
    <td width="348" valign="top"><p>Content Date</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0033</p></td>
    <td width="348" valign="top"><p>Content Time</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 A370</p></td>
    <td width="348" valign="top"><p>Reference Request Sequence</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0020 000D</p></td>
    <td width="348" valign="top"><p>&gt;Study Instance UID</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0050</p></td>
    <td width="348" valign="top"><p>&gt;Accession Number</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 1000</p></td>
    <td width="348" valign="top"><p>&gt;Requested Procedure ID</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0032 1064</p></td>
    <td width="348" valign="top"><p>&gt;Requested Procedure Code Sequence</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0100</p></td>
    <td width="348" valign="top"><p>&gt;&gt;Code Value</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0102</p></td>
    <td width="348" valign="top"><p>&gt;&gt;Coding Scheme Designator</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0103</p></td>
    <td width="348" valign="top"><p>&gt;&gt;Coding Scheme Version</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0104</p></td>
    <td width="348" valign="top"><p>&gt;&gt;Code Meaning</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 A504</p></td>
    <td width="348" valign="top"><p>Content Template Sequence</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 DB00</p></td>
    <td width="348" valign="top"><p>&gt;Template Identifier</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0040 A043</p></td>
    <td width="348" valign="top"><p>Concept Name Code Sequence</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0100</p></td>
    <td width="348" valign="top"><p>&gt;Code Value</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0102</p></td>
    <td width="348" valign="top"><p>&gt;Coding Scheme Designator</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0103</p></td>
    <td width="348" valign="top"><p>&gt;Coding Scheme Version</p></td>
  </tr>
  <tr>
    <td width="150" valign="top"><p>0008 0104</p></td>
    <td width="348" valign="top"><p>&gt;Code Meaning</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>The MESA  servers should be running from test 1402.</li>
  <li>Your Image Manager should contain the documents sent to  it in test 1402.</li>
  <li>Run  the script <em>1403/1403_imgmgr.pl</em>. One  query is sent for Evidence Documents.</li>
</ol>
<h3>Evaluation</h3>
<p>Run  the script <em>1403/eval_1403.pl</em>.&nbsp; This will evaluate the performance of the 1403  query.</p>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_1404" id="#test_1404">Image Manager Test 1404: Retrieve Evidence  Documents</a></h2>
<p>The Image Manager is sent C-Move requests to retrieve  studies that contain Evidence Documents.&nbsp; <br />
  In the 414 tests, the Image Manager will be sent C-Move  requests with a destination AE title of WORKSTATION1.&nbsp; The MESA  tools use these settings for that application:</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="176" valign="top"><br />
      AE Title </td>
    <td width="213" valign="top"><p>WORKSTATION1</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Port</p></td>
    <td width="213" valign="top"><p>3001</p></td>
  </tr>
  <tr>
    <td width="176" valign="top"><p>Host</p></td>
    <td width="213" valign="top"><p>The MESA    test system</p></td>
  </tr>
</table>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>The MESA  servers should be running from test 1402.</li>
  <li>Your Image Manager should contain Evidence Documents  sent in test 1402.</li>
  <li>Run the script to send C-Move requests to your system:  </li>

    <pre>perl  1404/1404_imgmgr.pl</pre>
</ol>
<h3>Evaluation</h3>
<ol start="1">
  <li>Run the script <em>1404/evaluate_1404.pl</em>.&nbsp; This will evaluate the Evidence Document  retrieved in the last step:
    <pre>perl 1404/evaluate_1404</pre>
	</ol><h3>Supplemental Information</h3></td>
</tr></table>
<h2>&nbsp;<a name="#test_1412" id="#test_1412">Image Manager Test 1412: </a>PWF CT</h2>
<p>Test 1412 is a test of the steps for Post Processing  Workflow in a CT 3D reconstruction scenario. The Image Manager will participate  in Scheduled Workflow steps for the scheduling of one procedure step for a CT  case and for the creation of the appropriate images and MPPS objects. Once the  images and MPPS objects for that procedure step are completed, you will be  asked to schedule a post processing step and to participate in the post  processing workflow.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Run  the test script:  </li>
</ol>
    <pre>     perl 1412/1412_imgmgr_active.pl</pre>
    <h3>Evaluation</h3>
    <ol start="1">
      <li>Run  the evaluation script:
        <pre>perl 1412/eval_1412.pl</pre>
    The evaluation script should yield 0 errors.          
    </ol>
    <h3>Supplemental Information       </h3>
    <table><tr><td bgcolor="#FFFF99">
<h2>&nbsp;<a name="#test_1421" id="#test_1421">Image Manager Test 1421: PWF Double Claim</a></h2>
<p>This sequence of messages tests the response of the Post  Processing Manager to consecutive claims of a single workitem. This is to  simulate a situation where two Image Creators are querying for the same set of  workitems. This test first uses the 142x script to do the scheduled workflow to  schedule a CT 3D reconstruction post processing workitem. The 1421 script will  then attempt to claim this workitem twice. Your system should accept the first  claim and reject the second claim.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Run  the active manager test script:  </li>
</ol>
<ol start="2">
    <pre>perl  142x/142x_imgmgr.pl</pre>
  <li>Follow  the test instructions</li>
  <li>Run  the active manager test script:
      <pre>perl 1421/1421_imgmgr_active.pl</pre>
  </ol>
<h3>Evaluation</h3>
<ol start="1">
  <li>Run  the evaluation script:
    <pre>perl 1421/eval_1421.pl</pre>
</ol>
<p>The evaluation script should yield 0 errors.</p>
<h3>Supplemental Information </h3></td>
    </tr></table>
<h2><a name="#test_1422" id="#test_1422">Image Manager Test 1422: PWF Release Claim</a></h2>
<p>This sequence of messages tests the response of the Post  Processing Manager to a request to release a claim. That is, a MESA Image  Creator will claim a workitem from the PPM worklist, then release the workitem  without completing it, and then query a second time to determine if the  workitem is again available.<br />
  This test relies on the use of Test 1421 to set up a workitem  in progress. Please run Test 1421 immediately prior to running this test.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Run  the test script:  </li>

    <pre>perl 1422/1422_imgmgr_active.pl</pre>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script:
  </li>
</ol>
<blockquote>
  <p align="left">perl 1422/eval_1422.p<br>
    <br>    
    The evaluation script should yield 0 errors.</p>
</blockquote>
<h3>Supplemental Information </h3>
<h1><a name="#basic_sec_tests" id="#basic_sec_tests">Basic Security Tests</a></h1>
<p>This section describes tests that are specific to the IHE  Basic Security integration profile. If you have the MESA servers running for the &ldquo;standard&rdquo;  tests, you should stop those servers now. You will need to start the MESA secure servers with a  different script.</p>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_1502" id="#test_1502">Image Manager Test 1502: Pre-reg/Order  Cancel/Reorder</a></h2>
<p><strong><em>This test is obsolete; do not perform this  test.</em></strong></p>
<p>Image Manager Test 1502 uses the same sequence of events as  test 102 with some added DICOM C-Find requests. The Image Manager is expected  to communicate with other systems using TLS negotiation and to send appropriate  audit messages to the MESA  syslog server.<br />
  The MESA  software sends one DICOM C-Find query to the Image Manager. This should trigger  at least one message to the Audit Record Repository. You might trigger other  messages to the Audit Record Repository based on your interaction with your  Image Manager.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start  the <strong><em><u>secure</u></em></strong> MESA servers as  instructed in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Clear  your Image Manager of all images.</li>
  <li>Run  the test script:</li>
  <pre>perl 1502/1502_imgmgr.pl</pre>
  <li>This script will send messages to your system and prompt you  along the way. You are expected to send audit messages in response to certain  events (such as DICOM C-Find requests).</li>
  </ol>
<h3>Evaluation</h3>
<ol>
    <li>Run  the evaluation script:
      <pre>perl 1502/eval_1502.pl &lt;AE Title MPPS Mgr&gt;</pre>
    <li>Send  the test result (<em>1502/grade_1502.txt</em>)  to the Project Manager.</li>
  <li>Grab  all of the files (tar/zip) in <em>$MESA_TARGET/logs/syslog</em> and send these to the Project Manager.</li>
  </ol>
<h3>Supplemental Information </h3></td>
</tr></table>
<h2><a name="#test_1503" id="#test_1503">Image Manager Test 1503: Unidentified Patient  Case #1</a></h2>
<p><strong><em>This test is obsolete; do not perform this  test.</em></strong><br />
  Image Manager Test 1503 uses the same sequence of events as  test 103 The Image Manager is expected to communicate with other systems using  TLS negotiation and to send appropriate audit messages to the MESA syslog server.<br />
  The MESA  software sends one DICOM C-Find query to the Image Manager. This should trigger  at least one message to the Audit Record Repository. You might trigger other  messages to the Audit Record Repository based on your interaction with your  Image Manager.</p>
<h3>References</h3>
<h3>Instructions</h3>
<ol>
  <li>Start the <strong><em><u>secure</u></em></strong> MESA servers as instructed in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Clear your Image Manager of all images.</li>
  <li>Run the test script:</li>
  <pre>perl 1503/1503_imgmgr.pl</pre>
  <li>This script will send messages to your system and prompt you  along the way. You are expected to send audit messages in response to certain  events (such as DICOM C-Find requests).</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script:
    <pre>perl 1503/eval_1503.pl &lt;AE Title MPPS Mgr&gt;</pre>
  <li>Send  the test result (<em>1503/grade_1503.txt</em>)  to the Project Manager.</li>
  <li>Grab  all of the files (tar/zip) in <em>$MESA_TARGET/logs/syslog</em> and send these to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_1531" id="#test_1531">Image Manager Test 1531: Basic Security,  Administrative and Procedure Performance Process Flow</a></h2>
<p>Test case 1531 uses the same transactions as defined for  test 131: Administrative and Procedure Performance Process Flow.<br />
  The nominal patient name is BLACK^CHARLES.<br />
  Notes:<br />
  Before starting this test, make  sure you have stopped the MESA servers for the  standard mode tests and started the MESA  servers for the <strong>secure mode</strong> tests.
<h3>References</h3>
<h3>Instructions</h3>
<p>To run this test (the reference to 131 below is  intentional):
<pre>     perl scripts/imgmgr_secure.pl 131 &lt;log&gt;</pre>
  <h3>Evaluation</h3>
  <p>To evaluate this test (1531, not 131):
  </p>
  <pre>     perl 1531/eval_1531.pl &lt;log&gt;  &lt;MPPS Mgr AE title&gt; &lt;SC AE title&gt; </pre>
  <h3>Supplemental Information </h3>
  <p>To change patient name, patient ID prior to the test (131  is intentional):
  </p>
  <pre>     cd $MESA_TARGET/mesa_tests/rad/msgs</pre>
  <pre>     perl mesa_reset/131.pl ihe-us/131.var  (or)</pre>
  <pre>     perl mesa_reset/131.pl</pre></td></tr></table>
<h1><a name="#evd_doc_tests" id="#evd_doc_tests">Evidence Document Tests</a></h1>
<p>This section describes tests that are specific to the IHE  Evidence Document integration profile. </p>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_1701" id="#test_1701">Image Manager Test 1701: Evidence Document  Management in Scheduled Workflow</a></h2>
<p>Test 1701 covers evidence document management in scheduled  workflow, part of the Evidence Document profile.&nbsp; The test itself is an implementation of the  scheme shown in Figure 14.2-1 (see ). 
<h3>References</h3>
<p>RAD TF-1:14</p>
<h3>Instructions</h3>
<p>To run this test:
<pre>     perl  scripts/imgmgr_swf.pl 1701 &lt;log&gt;</pre>
  <h3>Evaluation</h3>
  <p>To evaluate this test:</p>
  <pre>     perl  1701/eval_1701.pl &lt;log&gt;</pre>
  <h3>Supplemental Information</h3></td></tr></table>
<h1><a name="#nuc_med_prof_tests" id="#nuc_med_prof_tests">Nuclear Medicine Profile Tests</a></h1>
<p>This section describes tests that are specific to the IHE  Nuclear Medicine integration profile. </p>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_2601" id="#test_2601">Image Manager Test 2601: NM Storage SOP Classes</a></h2>
<h3>References</h3>
<p>Rad TF-2:4.8.4.1.3.1.</p>
<h3>Instructions</h3>
<p>Test 2601 is used to determine if an Image Manager supports  storage of required NM image types.</p>
<h3>Evaluation</h3>
<h3>Supplemental Information </h3></td></tr></table>
<h2><a name="#test_2602" id="#test_2602">Image Manager Test 2602: NM Query Keys</a></h2>
<h3>References</h3>
<p>Rad TF-2:4.14.4.1.2</p>
<h3>Instructions</h3>
<p>Test 2602 is used to determine if an Image Manager supports  query keys required by the NM Integration Profile.</p>
<h3>Evaluation</h3>
<h3>Supplemental Information </h3>
<h1><a name="#test_for_card" id="#test_for_card">Tests for Cardiology</a></h1>
<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_20106" id="#test_20106">Image Manger Test 20106: C5: Patient NOT  Registered (no Order)</a></h2>
<p>Test 20106 covers C5: Patient Not Registered.</p>
<h3>References</h3>
<p>CARD  TF-1:3.4.5</p>
<h3>Instructions</h3>
<p>To run this test, follow these steps using a DOS window or  terminal emulator:</p>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/card/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_cath.pl 20106 &lt;log_level&gt;</pre>
  </li>
  <li>Run  the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol><li>Run  the evaluation script  </li>
</ol>
<ol start="2">
    <pre>perl  20106/eval_20106.pl &lt;log&gt; &lt;AE Title MPPS Mgr&gt;</pre>
  <li>The  evaluation output is found in 20106/grade_20106.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
  </ol>
<h3>Supplemental Information </h3></td>
</tr></table>
<h2><a name="#test_20602" id="#test_20602">Test Case 20602:&nbsp;  ED: Describe Image Manager/Image Archive Methods</a></h2>
<h3>References</h3>
<h3>Instructions</h3>
<p>Test 20602: Do not  divulge any proprietary information. Create a Word document with the following naming convention:&nbsp;&nbsp;&nbsp; CompanyName_Product_20602_IM_2005.doc and  send it to the appropriate Domain (cardiology, radiology, ITI) Technical  Project Manager.<br />
  In 500 words or less for each, describe the following:</p>
<ol>
  <li>Which  SOP Classes does your product support?&nbsp;  (e.g, Comprehensive, Basic Text, etc.)</li>
  <li>Confirm  that your IM product can support any Template within a SOP Class.</li>
</ol>
<h3>Evaluation</h3>
<h3>Supplemental Information </h3>
<table>
  <tr>
    <td bgcolor="#FFFF99"><h2><a name="#test_20106" id="#test_20106">Image Manger Test 20106: C5: Patient NOT  Registered (no Order)</a></h2>
        <p>Test 20106 covers C5: Patient Not Registered.</p>
      <h3>References</h3>
      <p>CARD  TF-1:3.4.5</p>
      <h3>Instructions</h3>
      <p>To run this test, follow these steps using a DOS window or  terminal emulator:</p>
      <ol>
          <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/card/actors/imgmgr</em>.</li>
        <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
        <li>Run  the test script as follows:
          <pre>perl  scripts/imgmgr_cath.pl 20106 &lt;log_level&gt;</pre>
        </li>
        <li>Run  the evaluation script below.</li>
      </ol>
      <h3>Evaluation</h3>
      <ol>
        <li>Run  the evaluation script </li>
      </ol>
      <ol start="2">
          <pre>perl  20106/eval_20106.pl &lt;log&gt; &lt;AE Title MPPS Mgr&gt;</pre>
          <li>The  evaluation output is found in 20106/grade_20106.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
      </ol>
      <h3>Supplemental Information </h3></td>
  </tr>
</table>
<h2><a name="#test_20725" id="#test_20725">Image Manager Test 20725: STRESS Storage SOP Classes</a></h2>
<p>Image Manager / Image Archive actors in the Stress Testing Workflow Integration profile are required to support storage of:</p>
<ul>
  <li>1.2.840.1008.5.1.4.1.1.9.1.1 12-Lead ECG Waveform Storage </li>
  <li>1.2.840.1008.5.1.4.1.1.9.1.2 General ECG Waveform Storage </li>
  <li>1.2.840.1008.5.1.4.1.1.88.22 Enhanced SR</li>
  <li>1.2.840.1008.5.1.4.1.1.88.33 Comprehensive SR</li>
  <li>1.2.840.1008.5.1.4.1.1.88.40 Procedure Log</li>
  <li>1.2.840.1008.5.1.4.1.1.104.1   Encapsulated PDF </li>
</ul>
<p>This test C-STOREs one object of each SOP Class to your Image Manager. </p>
<h3>Reference</h3>
CARD TF-2:4.2.6
<h3>Instructions</h3>
<ol>
  <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/<strong>card</strong>/actors/imgmgr</em>.</li>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>There is no workflow associated with this test; run  the evaluation script below.</li>
  
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run  the evaluation script </li>
</ol>
<pre>     perl  20725/eval_20725.pl &lt;log_level&gt;</pre>
<ol start="2">
  <li>The  evaluation output is found in 20725/grade_20725.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Supplemental Information </h3>
<p>&nbsp;</p>
<h1><a name="#img_fusion_prof_tests" id="#img_fusion_prof_tests">Image Fusion (FUS) Profile Tests</a></h1>
<p>Tests in this section apply to Image Manager actors in  the Image Fusion Profile.</p>
<table><tr><td width="956" bgcolor="#33FFFF">
<h2><a name="#test_3510" id="#test_3510">Image Manager Test 3512: Spatial Registration  Storage and Storage Commitment</a></h2>
<p><span class="style3">This test is not yet implemented in the MESA tools. </span></p>
<p>This tests the ability of the Image Manager to store Spatial Registration objects and respond to a Storage Commitment request from  the MESA Evidence Creator. Successful completion of this test is prerequisite for completion of the remaining 35xx  tests.</p>
<p><strong>References:</strong></p>
<p>RAD TF-3: 4.56<strong></strong><br />
  DICOM  PS3.3 &ndash; 2004 A.30</p>
<p><a href="../rad/fusion/test_cases/html/3512.html">Test description/steps for test 3512.</a></p>  
<h3>Instructions</h3>

<ol>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_fusion.pl 3512 &lt;log&gt;</pre>
  </li>
  <li>Run  the evaluation script below.</li>
  </ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 3512/eval_3512.pl &lt;log level&gt; &lt;AE Title Storage Commit SCP&gt; </pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (3512/grade_3512.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information <br />
</h3></td>
</tr></table>




<h2><a name="#test_3540" id="#test_3540">Image Manager Test 3540: BSPS Storage and  Storage Commitment</a></h2>
<p><span class="style3">This test is not yet implemented in the MESA tools. </span></p>
<p>This tests the ability of the Image Manager to store  Blended Softcopy Spatial Registration (BSPS) objects and respond to a Storage Commitment request from the MESA Evidence Creator.</p>
<p><strong>References:&nbsp;&nbsp;&nbsp; </strong></p>
<p>RAD TF-3: 4.57<strong></strong><br />
  DICOM PS3.3 &ndash;  2004 A.30</p>
<p><a href="../rad/fusion/test_cases/html/3540.html">Test description/steps for test 3540.</a></p>  

<h3>Instructions</h3>
<ol>
  <li>Make sure the MESA servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_fusion.pl 3540 &lt;log&gt;</pre>
  </li>
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 3540/eval_3540.pl &lt;log level&gt; &lt;AE Title Storage Commit SCP&gt; </pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (3540/grade_3540.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information </h3>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_3556" id="#test_3556">Image Manager Test 3556: BSPS and Spatial  Registration Retrieve</a></h2>
<p class="style3">This test is not yet implemented in the MESA tools. </p>
<p>The Image Manager is sent C-MOVE requests to retrieve BSPS,  Spatial Registration and image objects.&nbsp; This  will include series-level moves. The Image Manager should correctly send all  requested objects to the server.</p>
<p><strong>References:</strong>&nbsp;&nbsp;&nbsp; </p>
<p>RAD TF-2: 4.17 &amp; 4.18</p>
<p>RAD TF-3: 4.57 &amp; 4.58</p>

<h3>Instructions</h3>
<ul>
<ol>
  <li>Start the MESA  servers as indicated in <a href="#start_servers">Starting the MESA Servers</a>.</li>
  <li>Run the script <em>3556/load_img_mgr.pl</em>.&nbsp; This will send studies to your Image Manager  that include BSPS, Spatial Registration objects, and referenced series of  images.</li>
  <li>Run the script <em>3556/3556_imgmgr.pl</em>.&nbsp; This will clear the MESA  workstation and send C-MOVE requests to move images, Spatial Registration and BSPS  objects to the MESA  workstation server.</li>
  </ol>
</ul>
<h3>Evaluation</h3><ul>
  <ol>
    <li>Run the script <em>3556/eval_3556.pl</em>. This will evaluate the objects retrieved from  your Image Manager and indicate pass/fail.</li>
    </ol>
  </ul>
<h3>Supplemental Information </h3></td>
</tr></table>



<h1><a name="#eyecare_tests" id="#eyecare_tests">Eye Care Profile Tests</a></h1>
<p>The tests in this section apply to Image Manager actors in  the Eye Care Profile.</p>

<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_50000" id="#test_50000">50000: Eye Care Workflow: Test 1</a></h2>
<p>Test 50000 covers a simple Eye Care Workflow scenario.</p>
<ul>
  <li>A known patient is registered</li>
  <li>An order is placed for a procedure</li>
  <li>that order is scheduled</li>
  <li>images are acquired and stored to the Image Manager.</li>
</ul>
<p>The  patient, registered at the ADT, is BALTIMORE^CHARLES  with a patient ID of 50000.</p>
<p><strong>References:</strong></p>

<p><a href="../eyecare/eyecare/test_cases/html/50000.html">Test description/steps for test 50000.</a></p> 

<h3>Instructions</h3>
<ol>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_swf.pl 50000 &lt;log&gt;</pre>
  </li>
  <li>Run  the evaluation script below.</li>
  </ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 50000/eval_50000.pl &lt;log level&gt; &lt;AE Title MPPS SCP&gt; &lt;AE Title Storage Commit SCP&gt; </pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (50000/grade_50000.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information <br />
</h3></td>
</tr></table>

<table><tr><td bgcolor="#FFFFFF">
<h2><a name="#test_50002" id="#test_50002">50002: Eye Care Workflow: Patient Renamed</a></h2>
<p>Test 50002 covers Eye Care workflow for the case of the patient changing name after
   original registration, order and image generation</p>
<ul>
  <li>A known patient is registered</li>
  <li>An order is placed for a procedure</li>
  <li>That order is scheduled</li>
  <li>Images are acquired and stored to the Image Manager.</li>
  <li>The patient changes name after the acquisition.</li>
</ul>
<br />
The  patient, registered at the ADT, is BRANSON^JANE  with a patient ID of 50002.
<p><strong>References:</strong></p>

<p><a href="../eyecare/eyecare/test_cases/html/50002.html">Test description/steps for test 50002.</a></p> 

<h3>Instructions</h3>
<ol>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_swf.pl 50002 &lt;log&gt;</pre>
  </li>
  <li>Run  the evaluation script below.</li>
  </ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 50002/eval_50002.pl &lt;log level&gt; &lt;AE Title MPPS SCP&gt; &lt;AE Title Storage Commit SCP&gt; </pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (50002/grade_50002.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information <br />
</h3></td>
</tr></table>


<table><tr><td bgcolor="#FFFF99">
<h2><a name="#test_50003" id="#test_50003">50003: Eye Care Workflow: Patient Merge</a></h2>
<p><em><strong>Unimplemented</strong></em></p>
<p><strong>References:</strong></p>

<p><a href="../eyecare/eyecare/test_cases/html/50003.html">Test description/steps for test 50003.</a></p> 

<h3>Instructions</h3>
<ol>
  <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_swf.pl 50003 &lt;log&gt;</pre>
  </li>
  <li>Run  the evaluation script below.</li>
  </ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 50003/eval_50003.pl &lt;log level&gt; &lt;AE Title MPPS SCP&gt; &lt;AE Title Storage Commit SCP&gt; </pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (50003/grade_50003.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information <br />
</h3></td>
</tr></table>


<table><tr><td bgcolor="#FFFFFF">
<h2><a name="#test_50004" id="#test_50004">50004: Eye Care Workflow: Modality Performs Different Procedure</a></h2>
<p>Test 50004 covers Eye Care workflow for the case of the modality performing a different procedure than that found on the MWL.</p>
<ul>
 <li>A known patient is registered</li>
 <li>An order is placed for a procedure</li>
 <li>That order is scheduled</li>
 <li>Images are acquired and stored to the Image Manager.</li>
 </ul><br />
  The  patient, registered at the ADT, is YORK^JUDITH  with a patient ID of 50004.<br />
  <h3>References</h3>
  <a href="../eyecare/eyecare/test_cases/html/50004.html">Test description/steps for test 50004.</a> 

<h3>Instructions</h3>
<ol>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>Run  the test script as follows:
      <pre>perl  scripts/imgmgr_swf.pl 50004 &lt;log&gt;</pre>
  </li>
  <li>Run the evaluation script below.</li>
  </ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script
  <pre> perl 50004/eval_50004.pl &lt;log level&gt; &lt;AE Title MPPS SCP&gt;</pre>
  </li>
  <li>The evaluation is complete when it indicates 0 errors.</li>
  <li>Submit the grade file (50004/grade_50004.txt) to the Project Manager.  </li>
</ol>
<h3>Supplemental Information <br />
</h3></td>
</tr></table>


<h1><a name="#mammo_prof_tests" id="#mammo_prof_tests">Mammography Image Integration Profile Tests</a></h1>
<p>This section describes tests that are specific to the IHE  Mammography Image Integration (MAMMO) profile. </p>
<table>
  <tr>
    <td bgcolor="#33FFFF"><h2><a name="#test_3920" id="#test_3920">Image Manager Test 3920: Mammo Storage SOP Classes</a></h2>
        <p>Image Manager / Image Archive actors in the MAMMO profile are required to support storage of:</p>
        <ul>
          <li>1.2.840.1008.5.1.4.1.1.2 Digital Mammography Image Storage - For Presentation </li>
          <li>1.2.840.1008.5.1.4.1.1.2.1 Digital Mammography Image Storage - For Processing </li>
          <li>1.2.840.1008.5.1.4.1.88.50 Mammography CAD SR </li>
        </ul>
        <p>This test C-STOREs one object of each type to your Image Manager. </p>
        <h3>Reference</h3>
      <p>Rad TF-2:4.8.4.1.3.1</p>
      <p>Rad TF-3:4.43.4.2.1</p>
      <h3>Instructions</h3>
      <ol>
        <li>Set  the current directory to <em>$MESA_TARGET/mesa_tests/rad/actors/imgmgr</em>.</li>
        <li>Make  sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
        <li>There is no workflow associated with this test; run  the evaluation script below.</li>
      </ol>
      <h3>Evaluation</h3>
      <ol>
        <li>Run  the evaluation script </li>
      </ol>
      <pre>     perl  3920/eval_3920.pl &lt;log_level&gt;</pre>
      <ol start="2">
        <li>The  evaluation output is found in 3920/grade_3920.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
      </ol>
      <h3>Supplemental Information </h3></td>
  </tr>
</table>
<h2>&nbsp;</h2>
</body>
</html>
