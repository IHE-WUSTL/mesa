<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title></head>

<body>
<p align="center"><strong>&nbsp;</strong></p>
<p align="center"><strong>Integrating the Healthcare Enterprise</strong></p>
<p align="center"><strong>&nbsp;</strong></p>
<p align="center"><strong>&nbsp;</strong><strong>IHE/MESA Patient Encounter Source Tests</strong></p>
<p>&nbsp;</p>
<p align="center">Electronic Radiology  Laboratory<br />
  Mallinckrodt Institute of  Radiology<br />
  510 South    Kingshighway Blvd. <br />
  St. Louis, MO&nbsp; 63110 <br />
  314.362.6965 (Voice)<br />
  314.362.6971 (Fax)</p>
<p align="center">&nbsp;</p>
<p align="center">Revision 9.10.1<br />
  13-March-2006 </p>
<strong>Contents:</strong><br clear="all" />

  <p><a href="#patient_encounter">Patient Encounter Source</a> <br />
      <a href="#intro">Introduction</a> <br />
      <a href="#patient_id"> Patient Identification</a> <br />
      <a href="#config">Configuration</a> <br />
      <a href="#start_servers"> Starting the MESA Servers</a> <br />
      <a href="#inst_test">Installation Test</a> <br />
      <a href="#test_software">Test Software Environment</a> <br />
      <a href="#sub_results"> Submission of Results</a> <br />
<a href="#test_cases_pam">Test  Cases PAM</a> </p>
  <ol>
    <li><a href="#test_12120"> Test 12120: PAM Admit/Discharge  Patient</a> <br />
    </li>
    <li><a href="#test_12121"> Test 12121: PAM Register Outpatient</a> </li>
  </ol>
  <h1><a name="#patient_encounter" id="#patient_encounter">Patient Encounter Source</a> </h1>
<h2><a name="#intro" id="#intro">Introduction</a></h2>
<p>The MESA tests include a  number of cases each of which rely on a sequence of messages between actors.  These tests range across different integration profiles:</p>
<ul>
  <li>Patient Administration  Management</li>
</ul>
<p>This  document lists the transactions and messages for a number of cases. It may not  describe the clinical scenario behind each case, but listing the transactions  should clearly define what is expected of each actor.&nbsp; These are all of the transactions involving  all of the actors.&nbsp; When you test with  your particular actor, you may see only a subset of these messages.</p>
<h2><a name="#patient_id" id="#patient_id"></a>Patient Identification</h2>
<p>The tests  described in this document rely on patient demographics supplied as part of the  test procedure. This document is intended for the Patient Encounter Source;  therefore the tests assume the source is responsible for supplying an  identifier for each test patient.</p>
<h2><a name="#config" id="#config">Configuration</a></h2>
<p>The MESA scripts are run from  the directory <em>$MESA_TARGET/mesa_tests/iti/actors/pat_encounter_src</em>.<br />
  The ASCII  configuration file <em>pat_encounter_src.cfg</em> contains parameters that describe  your system and the test environment. &nbsp;If  the Patient Encounter Source is not grouped with a Patient Demographics Source  and needs to receive patient demographic information, the following parameters  are used to tell the MESA  software where to send those messages:</p>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="213" valign="top"><br />
      Variable    Name </td>
    <td width="213" valign="top"><p>Default    Value</p></td>
  </tr>
  <tr>
    <td width="213" valign="top"><p>TEST_PES_HOST_HL7</p></td>
    <td width="213" valign="top"><p>pat_encounter_src</p></td>
  </tr>
  <tr>
    <td width="213" valign="top"><p>TEST_PES_PORT_HL7</p></td>
    <td width="213" valign="top"><p>3900</p></td>
  </tr>
</table>
<h2><a name="#start_servers" id="#start_servers">Starting the </a>MESA Servers</h2>
<p>MESA servers are started from a DOS/CMD  window or a terminal emulator. Follow these steps for Unix systems</p>
<ol>
  <pre><li>cd $MESA_TARGET/mesa_tests/iti/actors/pat_encounter_src</li></pre>
  <pre><li>scripts/start_mesa_servers.csh</li></pre>
</ol>
<p>To stop the  servers:
<pre>     scripts/stop_mesa_servers.csh</pre>
  The start  instructions for MESA  tools on a Windows system are:</p>
  <ol>
    <pre><li>cd %MESA_TARGET%\mesa_tests\iti\actors\pat_encounter_src</li></pre>
    <pre><li>scripts\start_mesa_servers.bat</li></pre>
  </ol>
  <p>To stop the  servers:
  <pre>     scripts/stop_mesa_servers.bat</pre>
 
<h2><a name="#inst_test" id="#inst_test">Installation Test</a></h2>

<h2><a name="#test_software" id="#test_software">Test Software Environment</a></h2>
<h2><a name="#sub_results" id="#sub_results"></a>Submission  of Results</h2>
<p>Test descriptions  below inform the reader to &ldquo;submit results to the Project Manager&rdquo;. This is  does not mean &ldquo;email&rdquo;. The current submission process should be documented by  the Project Manager, but will not include emailing files directly to the  Project Manager.</p>

<h1><a name="#test_cases_pam" id="#test_cases_pam">Test Cases PAM</a></h1>
<p>This section  describes test cases that are generally associated with the PAM Integration  Profile. There may be some overlap with other profiles.</p>
<table><tr><td bgcolor="#33FFFF">
<h2><a name="#test_12120" id="#test_12120">Test 12120: PAM Admit/Discharge Patient</a></h2>
<p>In test 12120,  the Patient Encounter Source is required to send two messages to first admit  and then discharge a patient. The test script allows the Patient Encounter  Source to receive demographic information from the MESA system (that is, a standalone Encounter  Source) or to use demographic information if grouped with a Patient Demographic  Source.</p>
<h3>Reference</h3>
<p>ITI TF</p>
<h3>Instructions</h3>
<p>To run this test,  follow these steps using a DOS window or terminal emulator:</p>
<ol>
  <li>Read the document &ldquo;IHE IT Infrastructure Test Cases&rdquo;  for a description of the transactions used for this test. Your system is  required to produce the administration messages described in that document.</li>
  <li>Refer to the table in Section 2.1.4 below. It lists  values that are used for Patient Demographics. If you are also a Patient  Demographics Source, you need to use those values when you create the patient.  If you choose to receive a demographics feed from MESA, you will receive those values.</li>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/iti/actors/ pat_encounter_src</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>If your system is grouped with a Patient Demographics  Source, you can generated your own Patient Identifier; however, you should use  the demographics defined for this test. If you are a standalone Patient  Encounter Source, you can receive an ADT message with the demographic  information from the test script.</li>
  <li>Run the test script as follows:</li>
</ol>
<pre>     perl scripts/pat_encounter_src.pl 12120  &lt;log level&gt; </pre>
  <blockquote>
    <p>where  &lt;log level&gt; is a value between 1 (low) and 4 (high).</p>
  </blockquote>
  <ol start="7">
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li>Run the evaluation script:</li>
  <pre>perl 12120/eval_12120.pl &lt;log level&gt;</pre>
  <li>The evaluation output is found in  12120/grade_12120.txt. The final result should indicate 0 errors. Submit the  result run at log level 4 to the Project Manager.</li>
</ol>
<h3>Patient Demographics for Test 12120</h3>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="139" valign="top"><p>Segment /    Field</p></td>
    <td width="228" valign="top"><p>Element    Name</p></td>
    <td width="271" valign="top"><p>Value</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.3.4</p></td>
    <td width="228" valign="top"><p>(Patient ID) Assigning Authority</p></td>
    <td width="271" valign="top"><p>&amp;1.3.6.1.4.1.21367.2005.1.1&amp;ISO</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.3.5</p></td>
    <td width="228" valign="top"><p>(Patient ID) Identifier Type Code</p></td>
    <td width="271" valign="top"><p>PI</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.5</p></td>
    <td width="228" valign="top"><p>Patient Name</p></td>
    <td width="271" valign="top"><p>YATES^MARY</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.7</p></td>
    <td width="228" valign="top"><p>Date/Time of Birth</p></td>
    <td width="271" valign="top"><p>19381213</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.8</p></td>
    <td width="228" valign="top"><p>Administrative Sex</p></td>
    <td width="271" valign="top"><p>M</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.11</p></td>
    <td width="228" valign="top"><p>Patient Address</p></td>
    <td width="271" valign="top"><p>15    WESTMINSTER^^WEBSTER^MO^63119</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PV1</p></td>
    <td width="228" valign="top"><p>Patient Class</p></td>
    <td width="271" valign="top"><p>N</p></td>
  </tr>
</table>
</td>
</tr></table>
<h2><a name="#test_12121" id="#test_12121">Test 12121: PAM Register Outpatient</a></h2>
<p>In test 12121,  the Patient Encounter Source is required to send one messages to register a  patient as an outpatient. The test script allows the Patient Encounter Source  to receive demographic information from the MESA system (that is, a standalone Encounter  Source) or to use demographic information if grouped with a Patient Demographic  Source.</p>
<h3>Patient Demographics for Test 12121</h3>
<table border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td width="139" valign="top"><p>Segment /    Field</p></td>
    <td width="228" valign="top"><p>Element    Name</p></td>
    <td width="271" valign="top"><p>Value</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.3.4</p></td>
    <td width="228" valign="top"><p>(Patient ID) Assigning Authority</p></td>
    <td width="271" valign="top"><p>&amp;1.3.6.1.4.1.21367.2005.1.1&amp;ISO</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.3.5</p></td>
    <td width="228" valign="top"><p>(Patient ID) Identifier Type Code</p></td>
    <td width="271" valign="top"><p>PI</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.5</p></td>
    <td width="228" valign="top"><p>Patient Name</p></td>
    <td width="271" valign="top"><p>SMITH^AMBER</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.7</p></td>
    <td width="228" valign="top"><p>Date/Time of Birth</p></td>
    <td width="271" valign="top"><p>19791130</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.8</p></td>
    <td width="228" valign="top"><p>Administrative Sex</p></td>
    <td width="271" valign="top"><p>M</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PID.11</p></td>
    <td width="228" valign="top"><p>Patient Address</p></td>
    <td width="271" valign="top"><p>17    OCEAN^^WEBSTER^MO^63119</p></td>
  </tr>
  <tr>
    <td width="139" valign="top"><p>PV1</p></td>
    <td width="228" valign="top"><p>Patient Class</p></td>
    <td width="271" valign="top"><p>N</p></td>
  </tr>
</table>
<h3>Reference</h3>
<p>ITI TF</p>
<h3>Instructions</h3>
<p>To run this test,  follow these steps using a DOS window or terminal emulator:</p>
<ol>
  <li>Read the document &ldquo;IHE IT Infrastructure Test Cases&rdquo;  for a description of the transactions used for this test. Your system is  required to produce the administration messages described in that document.</li>
  <li>Refer to the table in Section 2.2.1 above. It lists  values that are used for Patient Demographics. If you are also a Patient Demographics  Source, you need to use those values when you create the patient. If you choose  to receive a demographics feed from MESA,  you will receive those values.</li>
  <li>Set the current directory to <em>$MESA_TARGET/mesa_tests/iti/actors/ pat_encounter_src</em>.</li>
  <li>Make sure the MESA  servers have been started as described in <a href="#start_servers">Starting the MESA Servers</a> above.</li>
  <li>If your system is grouped with a Patient Demographics  Source, you can generated your own Patient Identifier; however, you should use  the demographics defined for this test. If you are a standalone Patient  Encounter Source, you can receive an ADT message with the demographic  information from the test script.</li>
  <li>Run the test script as follows:</li>
</ol>
<pre>     perl  scripts/pat_encounter_src.pl 12121 &lt;log level&gt; </pre>
  <blockquote>
    <p>where &lt;log level&gt; is a value between 1  (low) and 4 (high).</p>
  </blockquote>
<ol start="7">
  <li>Run the evaluation script below.</li>
</ol>
<h3>Evaluation</h3>
<ol>
  <li> Run the evaluation script:</li>
  <pre>perl 12121/eval_12121.pl &lt;log level&gt;</pre>
  <li> The  evaluation output is found in 12121/grade_12121.txt. The final result should  indicate 0 errors. Submit the result run at log level 4 to the Project Manager.</li>
</ol>

</body>
</html>
